{"ast":null,"code":"import _objectSpread from \"/opt/homebrew/var/www/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"/opt/homebrew/var/www/frontend/node_modules/core-js/modules/es.array.iterator.js\";\nimport \"/opt/homebrew/var/www/frontend/node_modules/core-js/modules/es.promise.js\";\nimport \"/opt/homebrew/var/www/frontend/node_modules/core-js/modules/es.object.assign.js\";\nimport \"/opt/homebrew/var/www/frontend/node_modules/core-js/modules/es.promise.finally.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport { createApp } from \"vue\";\nimport { createWebHistory, createRouter } from \"vue-router\";\nimport { createStore } from \"vuex\";\n\n// Import your Vuex module\nimport authModule from \"@/store/auth\";\nimport albums from \"@/store/albums\";\n\n// styles\n\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport \"@/assets/styles/tailwind.css\";\n\n// mouting point for the whole app\n\nimport App from \"@/App.vue\";\n\n// layouts\n\nimport Admin from \"@/layouts/Admin.vue\";\nimport Auth from \"@/layouts/Auth.vue\";\n\n// views for Admin layout\n\nimport Dashboard from \"@/views/admin/Dashboard.vue\";\nimport Settings from \"@/views/admin/Settings.vue\";\nimport Tables from \"@/views/admin/Tables.vue\";\nimport Maps from \"@/views/admin/Maps.vue\";\n\n// views for Auth layout\n\nimport Login from \"@/views/auth/Login.vue\";\nimport Register from \"@/views/auth/Register.vue\";\n\n// views without layouts\n\nimport Landing from \"@/views/Landing.vue\";\nimport Profile from \"@/views/Profile.vue\";\n//import Index from \"@/views/Index.vue\";\n\n// routes\n\nvar routes = [{\n  path: \"/admin\",\n  redirect: \"/admin/dashboard\",\n  component: Admin,\n  children: [{\n    path: \"/admin/dashboard\",\n    component: Dashboard\n  }, {\n    path: \"/admin/settings\",\n    component: Settings\n  }, {\n    path: \"/admin/tables\",\n    component: Tables\n  }, {\n    path: \"/admin/maps\",\n    component: Maps\n  }]\n}, {\n  path: \"/\",\n  redirect: \"/auth/login\",\n  component: Auth,\n  children: [{\n    path: \"/auth/login\",\n    component: Login\n  }, {\n    path: \"/auth/register\",\n    component: Register\n  }]\n}, {\n  path: \"/landing\",\n  component: Landing\n}, {\n  path: \"/profile\",\n  component: Profile\n}, {\n  path: \"/:pathMatch(.*)*\",\n  redirect: \"/\"\n}];\n\n// Navigation guard to check authentication before each route navigation\n\nvar router = createRouter({\n  history: createWebHistory(),\n  routes: routes\n});\n\n// Navigation guard to check authentication before each route navigation\nrouter.beforeEach(function (to, from, next) {\n  var isLoggedIn = store.getters['isLoggedIn'];\n  if (to.path.startsWith('/auth') && isLoggedIn) {\n    // If user is logged in and trying to access login or register page, redirect to admin dashboard\n    next('/admin/dashboard');\n  } else if (to.path.startsWith('/auth') && !isLoggedIn) {\n    // If user is not logged in and trying to access pages other than login or register, redirect to login\n    next();\n  } else if (!isLoggedIn && to.path.startsWith('/admin')) {\n    // If user is not logged in and trying to access admin pages, redirect to login\n    next('/auth/login');\n  } else {\n    next(); // Continue navigation\n  }\n});\n\n// Create Vuex store\n\nconsole.log({\n  auth: authModule,\n  albums: albums\n});\nvar store = createStore({\n  modules: {\n    auth: authModule,\n    albums: _objectSpread(_objectSpread({}, albums), {}, {\n      namespaced: true\n    })\n  }\n});\nconsole.log(\"Store\", store);\n\n// Mount the Vue app\ncreateApp(App).use(router).use(store).mount(\"#app\");","map":{"version":3,"names":["createApp","createWebHistory","createRouter","createStore","authModule","albums","App","Admin","Auth","Dashboard","Settings","Tables","Maps","Login","Register","Landing","Profile","routes","path","redirect","component","children","router","history","beforeEach","to","from","next","isLoggedIn","store","getters","startsWith","console","log","auth","modules","_objectSpread","namespaced","use","mount"],"sources":["/opt/homebrew/var/www/frontend/src/main.js"],"sourcesContent":["import { createApp } from \"vue\";\nimport { createWebHistory, createRouter } from \"vue-router\";\nimport { createStore } from \"vuex\";\n\n\n\n// Import your Vuex module\nimport authModule from \"@/store/auth\";\nimport albums from \"@/store/albums\";\n\n\n// styles\n\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport \"@/assets/styles/tailwind.css\";\n\n// mouting point for the whole app\n\nimport App from \"@/App.vue\";\n\n// layouts\n\nimport Admin from \"@/layouts/Admin.vue\";\nimport Auth from \"@/layouts/Auth.vue\";\n\n// views for Admin layout\n\nimport Dashboard from \"@/views/admin/Dashboard.vue\";\nimport Settings from \"@/views/admin/Settings.vue\";\nimport Tables from \"@/views/admin/Tables.vue\";\nimport Maps from \"@/views/admin/Maps.vue\";\n\n// views for Auth layout\n\nimport Login from \"@/views/auth/Login.vue\";\nimport Register from \"@/views/auth/Register.vue\";\n\n// views without layouts\n\nimport Landing from \"@/views/Landing.vue\";\nimport Profile from \"@/views/Profile.vue\";\n//import Index from \"@/views/Index.vue\";\n\n// routes\n\nconst routes = [\n  {\n    path: \"/admin\",\n    redirect: \"/admin/dashboard\",\n    component: Admin,\n    children: [\n      {\n        path: \"/admin/dashboard\",\n        component: Dashboard,\n      },\n      {\n        path: \"/admin/settings\",\n        component: Settings,\n      },\n      {\n        path: \"/admin/tables\",\n        component: Tables,\n      },\n      {\n        path: \"/admin/maps\",\n        component: Maps,\n      },\n    ],\n  },\n  {\n    path: \"/\",\n    redirect: \"/auth/login\",\n    component: Auth,\n    children: [\n      {\n        path: \"/auth/login\",\n        component: Login,\n      },\n      {\n        path: \"/auth/register\",\n        component: Register,\n      },\n    ],\n  },\n  {\n    path: \"/landing\",\n    component: Landing,\n  },\n  {\n    path: \"/profile\",\n    component: Profile,\n  },\n  { path: \"/:pathMatch(.*)*\", redirect: \"/\" },\n];\n\n// Navigation guard to check authentication before each route navigation\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n});\n\n\n\n// Navigation guard to check authentication before each route navigation\nrouter.beforeEach((to, from, next) => {\n  const isLoggedIn = store.getters['isLoggedIn'];\n\n  if (to.path.startsWith('/auth') && isLoggedIn) {\n    // If user is logged in and trying to access login or register page, redirect to admin dashboard\n    next('/admin/dashboard');\n  } else if (to.path.startsWith('/auth') && !isLoggedIn) {\n    // If user is not logged in and trying to access pages other than login or register, redirect to login\n    next();\n  } else if (!isLoggedIn && to.path.startsWith('/admin')) {\n    // If user is not logged in and trying to access admin pages, redirect to login\n    next('/auth/login');\n  } else {\n    next(); // Continue navigation\n  }\n});\n\n\n\n// Create Vuex store\n\nconsole.log({\n  auth: authModule,\n  albums: albums\n});\nconst store = createStore({\n  modules: {\n    auth: authModule,\n    albums: {...albums, namespaced: true}\n  },\n\n});\n\n\nconsole.log(\"Store\",store);\n\n\n// Mount the Vue app\ncreateApp(App)\n  .use(router)\n  .use(store)\n  .mount(\"#app\");"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}